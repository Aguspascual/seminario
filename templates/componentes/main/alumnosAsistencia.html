<link rel="stylesheet" href="/static/css/componentes/main/alumnosAsistencia.css">
<div class="encabezado">
    <div class="titulo">
        <h1>Asistencia de {{ materia.nombre }} ({{ curso.nombre }})</h1>
    </div>
    <div class="buscador">
        <input type="text" id="buscador-alumnos" placeholder="Buscar alumno...">
    </div>
</div>
<div class="contenedor-usuarios">
    {% if alumnos %}
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Total Faltas</th>
                    <th>Total Clases</th>
                </tr>
            </thead>
            <tbody>
                {% for alumno in alumnos %}
                <tr class="alumno-row">
                    <td class="nombre">{{ alumno.nombre }}</td>
                    <td class="apellido">{{ alumno.apellido }}</td>
                        <td>{{ alumno.total_faltas }}</td>
                        <td>{{ alumno.total_clases }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="no-data">No hay datos de asistencia disponibles.</p>
    {% endif %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const buscadorInput = document.getElementById('buscador-alumnos');
        buscadorInput.addEventListener('input', function() {
            const filtro = this.value.toLowerCase();
            const filasAlumnos = document.querySelectorAll('.alumno-row');

            filasAlumnos.forEach(fila => {
                const nombre = fila.querySelector('.nombre').textContent.toLowerCase();
                const apellido = fila.querySelector('.apellido').textContent.toLowerCase();
                if (nombre.includes(filtro) || apellido.includes(filtro)) {
                    fila.style.display = '';
                } else {
                    fila.style.display = 'none';
                }
            });
        });
    });
</script>